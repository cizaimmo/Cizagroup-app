<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>CIZA GROUP - Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  min-height:100vh;
  background:#06142E;
  font-family:Arial, sans-serif;
  color:white;
  padding:30px;
}
.box{
  background:#0B1C34;
  padding:20px;
  border-radius:10px;
  max-width:400px;
}
button{
  padding:10px 20px;
  background:#C0392B;
  border:none;
  color:white;
  border-radius:6px;
  margin-top:20px;
}
h1{color:#F2B840;}
</style>
</head>

<body>

<h1>Dashboard</h1>

<div class="box">
  <p>Email connecté :</p>
  <strong id="userEmail">...</strong><br>
  <button id="logoutBtn">Déconnexion</button>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
  getAuth,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "REMPLACE_PAR_TA_API_KEY",
  authDomain: "REMPLACE_PAR_TON_AUTH_DOMAIN",
  projectId: "REMPLACE_PAR_TON_PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth,(user)=>{
  if(!user){
    window.location.href = "/Cizagroup-app/login.html";
  }else{
    document.getElementById("userEmail").textContent = user.email;
  }
});

document.getElementById("logoutBtn").addEventListener("click", async ()=>{
  await signOut(auth);
  window.location.href = "/Cizagroup-app/login.html";
});
</script>

</body>
</html>
