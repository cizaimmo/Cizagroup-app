<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>CIZA GROUP — Dashboard Admin</title>
<link rel="icon" href="icon-512.png">

<style>
body{
    margin:0;
    background:#06142E;
    color:white;
    font-family:Arial, sans-serif;
}

/* SIDEBAR */
.sidebar{
    position:fixed;
    top:0;left:0;
    width:250px;height:100%;
    background:#0B1C34;
    border-right:2px solid #F2B840;
    padding-top:20px;
}
.sidebar h2{
    text-align:center;
    color:#F2B840;
    margin-bottom:20px;
}
.sidebar a{
    display:block;
    padding:12px 20px;
    color:white;
    text-decoration:none;
    border-bottom:1px solid #12335c;
    opacity:.85;
}
.sidebar a:hover{
    background:#F2B840;
    color:#06142E;
}

.logout{
    position:absolute;
    bottom:20px;
    left:20px;
    right:20px;
    padding:12px;
    text-align:center;
    background:#F2B840;
    color:#06142E;
    border-radius:8px;
    font-weight:bold;
    cursor:pointer;
}

/* MAIN CONTENT */
.main{
    margin-left:260px;
    padding:25px;
}

h1{
    margin-top:0;
    color:#F2B840;
}

.grid{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px;
    margin-top:20px;
}

.card{
    background:#0B1C34;
    padding:20px;
    border-radius:14px;
    border:1px solid #12335c;
    text-align:center;
}
.card h3{
    margin:0;
    color:#F2B840;
}
.card p{
    opacity:.8;
    font-size:16px;
}

/* HIDE SECTIONS INIT */
.section{display:none;}
</style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h2>CIZA ADMIN</h2>

    <a href="#" onclick="showSection('dashboard')">Dashboard</a>
    <a href="#" onclick="showSection('users')">Utilisateurs</a>
    <a href="#" onclick="showSection('carwash')">CarWash+</a>
    <a href="#" onclick="showSection('delivery')">Delivery</a>
    <a href="#" onclick="showSection('assist')">Assist</a>
    <a href="#" onclick="showSection('market')">Market</a>
    <a href="#" onclick="showSection('jobs')">Jobs</a>
    <a href="#" onclick="showSection('logs')">Logs</a>
    <a href="#" onclick="showSection('settings')">Paramètres</a>

    <div class="logout" onclick="logout()">Déconnexion</div>
</div>

<!-- MAIN -->
<div class="main">

    <!-- DASHBOARD -->
    <div id="dashboard" class="section" style="display:block;">
        <h1>Dashboard — Résumé</h1>
        <div class="grid">
            <div class="card">
                <h3>Total utilisateurs</h3>
                <p id="count-users">...</p>
            </div>
            <div class="card">
                <h3>Demandes CarWash</h3>
                <p id="count-carwash">0</p>
            </div>
            <div class="card">
                <h3>Demandes Delivery</h3>
                <p id="count-delivery">0</p>
            </div>
            <div class="card">
                <h3>Demandes Assist</h3>
                <p id="count-assist">0</p>
            </div>
        </div>
    </div>

    <!-- USERS -->
    <div id="users" class="section">
        <h1>Gestion des utilisateurs</h1>
        <p>Liste, rôles, actions (en préparation)</p>
    </div>

    <!-- CARWASH -->
    <div id="carwash" class="section">
        <h1>CarWash+</h1>
        <p>Données CarWash (à connecter plus tard)</p>
    </div>

    <!-- DELIVERY -->
    <div id="delivery" class="section">
        <h1>Delivery</h1>
        <p>Données Delivery (à connecter plus tard)</p>
    </div>

    <!-- ASSIST -->
    <div id="assist" class="section">
        <h1>CizaAssist</h1>
        <p>Données Assist (à connecter plus tard)</p>
    </div>

    <!-- MARKET -->
    <div id="market" class="section">
        <h1>CizaMarket</h1>
        <p>Données Market (à connecter plus tard)</p>
    </div>

    <!-- JOBS -->
    <div id="jobs" class="section">
        <h1>CizaJobs</h1>
        <p>Données Jobs (à connecter plus tard)</p>
    </div>

    <!-- LOGS -->
    <div id="logs" class="section">
        <h1>Journal d’activité</h1>
        <p>Connexion, création, actions admin (bientôt)</p>
    </div>

    <!-- SETTINGS -->
    <div id="settings" class="section">
        <h1>Paramètres Admin</h1>
        <p>Configuration générale (bientôt)</p>
    </div>

</div>

<script>
/* SWITCH SECTIONS */
function showSection(id){
    document.querySelectorAll(".section").forEach(s => s.style.display="none");
    document.getElementById(id).style.display="block";
}

/* LOGOUT */
function logout(){
    alert("Déconnexion réussie");
    window.location.href = "index.html";
}
</script>

<!-- ======================
   FIREBASE (INFO ONLY)
======================== -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut }
from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { getFirestore, collection, getDocs }
from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyBAiJHbBvRO6cDFpm6C-5mQk6SiTtzcI8o",
    authDomain: "cizagroup-app.firebaseapp.com",
    projectId: "cizagroup-app",
    storageBucket: "cizagroup-app.firebasestorage.app",
    messagingSenderId: "930936264084",
    appId: "1:930936264084:web:5395360e54bf17bf492b81"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

/* COUNT USERS */
async function loadDashboard(){
    const usersSnap = await getDocs(collection(db, "users"));
    document.getElementById("count-users").innerHTML = usersSnap.size;
}
loadDashboard();

/* PROTECTION ADMIN — plus tard */
</script>

</body>
</html>
