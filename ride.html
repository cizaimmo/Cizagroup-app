<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>CizaRide+ â€” Commander un taxi</title>
<link rel="icon" href="logotransparent.png">

<!-- Leaflet Map (gratuit, premium, lÃ©gal) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
body{
    margin:0;
    background:#06142E;
    color:white;
    font-family:Arial, sans-serif;
}

/* HEADER */
header{
    padding:18px;
    text-align:center;
    border-bottom:2px solid #F2B840;
}
header h1{
    margin:0;
    font-size:22px;
    color:#F2B840;
}

/* MAP */
#map{
    width:100%;
    height:380px;
    margin-top:12px;
    border-radius:12px;
    box-shadow:0 0 10px #00000055;
}

/* FORM */
.form{
    padding:20px;
}
.form input{
    width:100%;
    padding:14px;
    margin-top:12px;
    border:none;
    border-radius:10px;
    background:#112544;
    color:white;
}
.button{
    background:#F2B840;
    border:none;
    padding:16px;
    width:100%;
    margin-top:18px;
    color:#06142E;
    font-weight:bold;
    font-size:17px;
    border-radius:10px;
    cursor:pointer;
}
.button:hover{
    background:#d4a038;
}

/* POPUP */
.popup{
    display:none;
    position:fixed;
    top:0;left:0;width:100%;height:100%;
    background:#000000AA;
    backdrop-filter:blur(6px);
    justify-content:center;
    align-items:center;
    z-index:9999;
}
.popup-content{
    background:#0B1C34;
    padding:25px;
    width:85%;
    max-width:330px;
    border-radius:14px;
    text-align:center;
    border:1px solid #12335c;
}
.popup-content h2{
    color:#F2B840;
    margin-top:0;
}
.popup-content button{
    background:#F2B840;
    border:none;
    padding:12px 18px;
    border-radius:8px;
    color:#06142E;
    font-weight:bold;
    margin-top:12px;
    cursor:pointer;
}
</style>
</head>

<body>

<header>
    <h1>CizaRide+</h1>
</header>

<div id="map"></div>

<div class="form">
    <input type="text" id="destination" placeholder="OÃ¹ allez-vous ?" required>
    <button class="button" onclick="orderTaxi()">ðŸš• Commander un taxi</button>
</div>

<!-- POPUP CONFIRMATION -->
<div id="popup" class="popup">
    <div class="popup-content">
        <h2>Demande envoyÃ©e âœ”</h2>
        <p>Votre taxi est en route.  
        Vous serez contactÃ© directement.</p>
        <button onclick="closePopup()">OK</button>
    </div>
</div>

<script>
// MAP INIT
let map = L.map('map').setView([-3.38, 29.36], 13); // Bujumbura (par dÃ©faut)

L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
    attribution: 'Â© OpenStreetMap'
}).addTo(map);

// GEOLOCATION
if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(pos=>{
        let lat = pos.coords.latitude;
        let lon = pos.coords.longitude;

        map.setView([lat, lon], 15);
        L.marker([lat, lon]).addTo(map)
            .bindPopup("Vous Ãªtes ici").openPopup();
    });
}

// ORDER TAXI
function orderTaxi(){
    let d = document.getElementById("destination").value;

    if(d.trim() === ""){
        alert("Veuillez entrer une destination.");
        return;
    }

    openPopup();
}

function openPopup(){
    document.getElementById("popup").style.display = "flex";
}
function closePopup(){
    document.getElementById("popup").style.display = "none";
}
</script>

</body>
</html>
